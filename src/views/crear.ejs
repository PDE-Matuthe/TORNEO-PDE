<%- include('partials/head') %>
<%- include('partials/nav') %>

<main class="max-w-4xl mx-auto px-4 py-8">
  <!-- Breadcrumb -->
  <div class="mb-6 text-slate-400 text-sm">
    <a href="/admin" class="text-gold hover:text-white">Dashboard</a>
    <span class="mx-2">/</span>
    <a href="<%= referrerPath || '/admin' %>" class="text-gold hover:text-white"><%= typeof entityType !== 'undefined' ? entityType : 'Entidad' %></a>
    <span class="mx-2">/</span>
    <span>Crear</span>
  </div>

  <div class="card">
    <div class="card-header">
      <h1 class="card-title">
        <i class="fas fa-plus text-gold mr-2"></i>
        Crear Nuevo <%= typeof entityType !== 'undefined' ? entityType : 'Registro' %>
      </h1>
    </div>

    <% if (typeof error !== 'undefined' && error) { %>
      <div class="alert alert-danger">
        <i class="fas fa-exclamation-circle mr-2"></i> <%= error %>
      </div>
    <% } %>

    <form method="POST" class="space-y-6">
      <!-- Dynamic Form Fields -->
      <div id="formContent">
        <!-- Form fields will be injected here based on entity type -->
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-3 justify-end pt-4 border-t border-slate-700">
        <a href="<%= referrerPath || '/admin' %>" class="px-6 py-2 border border-slate-600 rounded hover:bg-slate-700 transition">
          <i class="fas fa-times mr-2"></i> Cancelar
        </a>
        <button type="submit" class="btn-primary">
          <i class="fas fa-plus mr-2"></i> Crear
        </button>
      </div>
    </form>
  </div>
</main>

<%- include('partials/footer') %>
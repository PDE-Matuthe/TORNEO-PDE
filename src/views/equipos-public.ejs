<%- include('partials/head') %>
<%- include('partials/nav') %>

<main class="max-w-7xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="mb-8">
    <% if (typeof isTorneoEspecifico !== 'undefined' && isTorneoEspecifico) { %>
      <div class="mb-4 flex items-center gap-2">
        <a href="/torneos-anteriores" class="text-gold hover:text-yellow-400 text-sm">Torneos Anteriores</a>
        <span class="text-slate-500">/</span>
        <span class="text-slate-400 text-sm"><%= torneo.nombre %></span>
      </div>
    <% } %>
    <h1 class="text-4xl font-bold mb-2">
      <i class="fas fa-shield-alt text-gold mr-3"></i> Equipos Participantes<% if (typeof isTorneoEspecifico !== 'undefined' && isTorneoEspecifico) { %> - <%= torneo.nombre %><% } %>
    </h1>
    <p class="text-slate-400">Conoce todos los equipos competidores del torneo</p>
  </div>

  <% if (typeof equipos !== 'undefined' && equipos && equipos.length > 0) { %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% equipos.forEach(equipo => { %>
        <div class="card hover:shadow-gold transition">
          <div class="text-center">
            <!-- Logo -->
            <div class="mb-4 flex justify-center">
              <% if (equipo.logo_url) { %>
                <img src="<%= equipo.logo_url %>" 
                     alt="Logo <%= equipo.nombre %>" 
                     class="h-24 w-24 object-contain rounded border border-slate-700 p-2">
              <% } else { %>
                <div class="h-24 w-24 flex items-center justify-center bg-slate-700 rounded border border-slate-700">
                  <i class="fas fa-shield-alt text-4xl text-slate-500"></i>
                </div>
              <% } %>
            </div>
            
            <!-- Info -->
            <h2 class="text-2xl font-bold text-white mb-2"><%= equipo.nombre %></h2>
            <div class="flex justify-center gap-2 mb-4">
              <span class="stat-badge">
                <i class="fas fa-globe mr-1"></i> <%= equipo.region %>
              </span>
            </div>
            
            <!-- Action -->
            <a href="/equipo/<%= equipo.id %>" class="btn-primary w-full">
              <i class="fas fa-eye mr-2"></i> Ver Equipo
            </a>
          </div>
        </div>
      <% }); %>
    </div>
  <% } else { %>
    <div class="card text-center py-12">
      <i class="fas fa-inbox text-6xl text-slate-600 mb-4"></i>
      <h2 class="text-2xl font-bold text-slate-300">No hay equipos registrados</h2>
      <p class="text-slate-400 mt-2">Los equipos aparecerán aquí cuando se creen</p>
    </div>
  <% } %>

  <!-- Enlaces de navegación para torneo específico -->
  <% if (typeof isTorneoEspecifico !== 'undefined' && isTorneoEspecifico && typeof torneo !== 'undefined' && torneo) { %>
    <div class="mt-12 pt-8 border-t border-slate-700">
      <div class="flex flex-wrap gap-3 justify-center">
        <a href="/torneo/<%= torneo.id %>/calendario" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition flex items-center gap-2">
          <i class="fas fa-calendar"></i> Calendario
        </a>
        <a href="/torneo/<%= torneo.id %>/bracket" class="px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded transition flex items-center gap-2">
          <i class="fas fa-sitemap"></i> Bracket
        </a>
        <a href="/torneo/<%= torneo.id %>/mvp" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded transition flex items-center gap-2">
          <i class="fas fa-star"></i> Ranking MVP
        </a>
        <a href="/torneos-anteriores" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition flex items-center gap-2">
          <i class="fas fa-arrow-left"></i> Volver
        </a>
      </div>
    </div>
  <% } %>
</main>

<%- include('partials/footer') %>

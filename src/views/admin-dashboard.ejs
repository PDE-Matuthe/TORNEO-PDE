<%- include('partials/head') %>
<%- include('partials/nav') %>

<main class="max-w-7xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold mb-2">
      <i class="fas fa-cog text-gold mr-3"></i> Panel de Administración
    </h1>
    <p class="text-slate-400">Bienvenido. Gestiona todos los aspectos de tu torneo desde aquí.</p>
  </div>

  <!-- Stats Section -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <!-- Total Torneos -->
    <div class="card">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-slate-400 text-sm mb-1">Total Torneos</p>
          <p class="text-3xl font-bold text-gold"><%= typeof stats !== 'undefined' && stats.torneos || '0' %></p>
        </div>
        <i class="fas fa-trophy text-4xl text-gold opacity-20"></i>
      </div>
    </div>

    <!-- Total Equipos -->
    <div class="card">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-slate-400 text-sm mb-1">Total Equipos</p>
          <p class="text-3xl font-bold text-gold"><%= typeof stats !== 'undefined' && stats.equipos || '0' %></p>
        </div>
        <i class="fas fa-shield-alt text-4xl text-gold opacity-20"></i>
      </div>
    </div>

    <!-- Total Jugadores -->
    <div class="card">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-slate-400 text-sm mb-1">Total Jugadores</p>
          <p class="text-3xl font-bold text-gold"><%= typeof stats !== 'undefined' && stats.jugadores || '0' %></p>
        </div>
        <i class="fas fa-users text-4xl text-gold opacity-20"></i>
      </div>
    </div>

    <!-- Total Partidas -->
    <div class="card">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-slate-400 text-sm mb-1">Total Partidas</p>
          <p class="text-3xl font-bold text-gold"><%= typeof stats !== 'undefined' && stats.partidas || '0' %></p>
        </div>
        <i class="fas fa-gamepad text-4xl text-gold opacity-20"></i>
      </div>
    </div>
  </div>

  <!-- Management Sections -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <!-- Torneos Card -->
    <div class="card hover:shadow-lg">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="card-title">
            <i class="fas fa-trophy text-gold mr-2"></i> Gestión de Torneos
          </h3>
          <p class="text-slate-400 text-sm mt-1">Crear, editar y activar torneos</p>
        </div>
      </div>
      <div class="flex gap-2">
        <a href="/admin/torneos" class="btn-primary flex-1 text-center py-2">
          <i class="fas fa-list mr-1"></i> Ver Torneos
        </a>
        <a href="/admin/torneos/crear" class="btn-success flex-1 text-center py-2">
          <i class="fas fa-plus mr-1"></i> Nuevo
        </a>
      </div>
    </div>

    <!-- Equipos Card -->
    <div class="card hover:shadow-lg">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="card-title">
            <i class="fas fa-shield-alt text-gold mr-2"></i> Gestión de Equipos
          </h3>
          <p class="text-slate-400 text-sm mt-1">Crear equipos y asignar rosters</p>
        </div>
      </div>
      <div class="flex gap-2">
        <a href="/admin/equipos" class="btn-primary flex-1 text-center py-2">
          <i class="fas fa-list mr-1"></i> Ver Equipos
        </a>
        <a href="/admin/equipos/crear" class="btn-success flex-1 text-center py-2">
          <i class="fas fa-plus mr-1"></i> Nuevo
        </a>
      </div>
    </div>

    <!-- Jugadores Card -->
    <div class="card hover:shadow-lg">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="card-title">
            <i class="fas fa-user text-gold mr-2"></i> Gestión de Jugadores
          </h3>
          <p class="text-slate-400 text-sm mt-1">Agregar y registrar jugadores</p>
        </div>
      </div>
      <div class="flex gap-2">
        <a href="/admin/jugadores" class="btn-primary flex-1 text-center py-2">
          <i class="fas fa-list mr-1"></i> Ver Jugadores
        </a>
        <a href="/admin/jugadores/crear" class="btn-success flex-1 text-center py-2">
          <i class="fas fa-plus mr-1"></i> Nuevo
        </a>
      </div>
    </div>

    <!-- Partidas Card -->
    <div class="card hover:shadow-lg">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="card-title">
            <i class="fas fa-gamepad text-gold mr-2"></i> Gestión de Partidas
          </h3>
          <p class="text-slate-400 text-sm mt-1">Crear partidas e importar estadísticas</p>
        </div>
      </div>
      <div class="flex gap-2">
        <a href="/admin/partidas" class="btn-primary flex-1 text-center py-2">
          <i class="fas fa-list mr-1"></i> Ver Partidas
        </a>
        <a href="/admin/partidas/crear" class="btn-success flex-1 text-center py-2">
          <i class="fas fa-plus mr-1"></i> Nuevo
        </a>
      </div>
    </div>
  </div>

  <!-- Riot API Stats Card -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">
        <i class="fas fa-rocket text-gold mr-2"></i> Integración Riot Games API
      </h3>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="p-4 bg-slate-700 bg-opacity-50 rounded">
        <p class="text-slate-400 text-sm mb-2">Estado Actual</p>
        <p class="text-lg font-bold">
          <i class="fas fa-check-circle text-green-500 mr-2"></i> Configurada
        </p>
      </div>
      <div class="p-4 bg-slate-700 bg-opacity-50 rounded">
        <p class="text-slate-400 text-sm mb-2">Última Sincronización</p>
        <p class="text-lg font-bold"><%= typeof lastSync !== 'undefined' && lastSync || 'Nunca' %></p>
      </div>
      <div class="p-4 bg-slate-700 bg-opacity-50 rounded">
        <p class="text-slate-400 text-sm mb-2">Estadísticas Cargadas</p>
        <p class="text-lg font-bold"><%= typeof statsLoaded !== 'undefined' && statsLoaded || '0' %></p>
      </div>
    </div>
    <div class="mt-4">
      <p class="text-slate-400 text-sm mb-3">
        <i class="fas fa-info-circle mr-2"></i> Importa automáticamente estadísticas de partidas desde la API de Riot Games.
      </p>
      <a href="/admin/partidas" class="btn-primary">
        <i class="fas fa-upload mr-2"></i> Ir a Importar Estadísticas
      </a>
    </div>
  </div>

  <!-- Quick Access Links -->
  <div class="mt-8 p-4 bg-slate-800 rounded border border-slate-700">
    <h3 class="text-gold font-bold mb-4">
      <i class="fas fa-link mr-2"></i> Enlaces Rápidos
    </h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
      <a href="/admin/torneos" class="text-slate-300 hover:text-gold transition text-sm">
        <i class="fas fa-arrow-right mr-1"></i> Todos los Torneos
      </a>
      <a href="/admin/equipos" class="text-slate-300 hover:text-gold transition text-sm">
        <i class="fas fa-arrow-right mr-1"></i> Todos los Equipos
      </a>
      <a href="/admin/jugadores" class="text-slate-300 hover:text-gold transition text-sm">
        <i class="fas fa-arrow-right mr-1"></i> Todos los Jugadores
      </a>
      <a href="/admin/partidas" class="text-slate-300 hover:text-gold transition text-sm">
        <i class="fas fa-arrow-right mr-1"></i> Todas las Partidas
      </a>
    </div>
  </div>
</main>

<%- include('partials/footer') %>

  <div class="row mt-4">
    <!-- Card Públicas -->
    <div class="col-md-6 mb-4">
      <div class="card bg-dark text-white h-100 border-secondary shadow">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-eye fa-2x text-secondary me-3"></i>
            <h5 class="card-title mb-0">Vistas Públicas</h5>
          </div>
          <p class="card-text text-light">
            Visualiza cómo ven los visitantes el torneo.
          </p>
          <div class="d-flex gap-2">
            <a href="/equipos" class="btn btn-outline-light btn-sm" target="_blank">
              <i class="fas fa-external-link-alt"></i> Equipos
            </a>
            <a href="/calendario" class="btn btn-outline-light btn-sm" target="_blank">
              <i class="fas fa-external-link-alt"></i> Calendario
            </a>
            <a href="/mvp" class="btn btn-outline-light btn-sm" target="_blank">
              <i class="fas fa-external-link-alt"></i> MVP
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Información -->
    <div class="col-md-6 mb-4">
      <div class="card bg-dark text-white h-100 border-secondary shadow">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-info-circle fa-2x text-warning me-3"></i>
            <h5 class="card-title mb-0">Información</h5>
          </div>
          <p class="card-text text-light mb-3">
            Estás en el panel de administración. Solo los administradores pueden ver este contenido.
          </p>
          <button class="btn btn-warning text-dark fw-bold w-100" onclick="alert('Sistema listo para usar!')">
            <i class="fas fa-check-circle"></i> Estado: ✅ Online
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>

<%- include('partials/head') %>

<style>
  .torneo-card {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.8));
    border: 2px solid #fbbf24;
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .torneo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.4);
    border-color: #f59e0b;
  }

  .torneo-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: #fbbf24;
    margin-bottom: 0.5rem;
  }

  .torneo-dates {
    color: #cbd5e1;
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }

  .torneo-description {
    color: #e2e8f0;
    margin-bottom: 1rem;
    line-height: 1.5;
  }

  .torneo-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.75rem;
  }

  .torneo-btn {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    text-decoration: none;
    font-size: 0.85rem;
    text-align: center;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }

  .btn-calendario {
    background-color: #3b82f6;
    color: white;
    border: 1px solid #1e40af;
  }

  .btn-calendario:hover {
    background-color: #1e40af;
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
  }

  .btn-bracket {
    background-color: #8b5cf6;
    color: white;
    border: 1px solid #6d28d9;
  }

  .btn-bracket:hover {
    background-color: #6d28d9;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
  }

  .btn-equipos {
    background-color: #ec4899;
    color: white;
    border: 1px solid #be185d;
  }

  .btn-equipos:hover {
    background-color: #be185d;
    box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
  }

  .btn-mvp {
    background-color: #f59e0b;
    color: white;
    border: 1px solid #d97706;
  }

  .btn-mvp:hover {
    background-color: #d97706;
    box-shadow: 0 0 15px rgba(245, 158, 11, 0.5);
  }

  .empty-state {
    text-align: center;
    padding: 3rem;
    color: #94a3b8;
  }

  .empty-state-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }
</style>

<body class="bg-slate-900 text-white">
  <%- include('partials/nav') %>

  <div class="max-w-7xl mx-auto px-4 py-12">
    <!-- Header -->
    <div class="mb-12">
      <h1 class="text-4xl font-bold mb-2">
        <i class="fas fa-history text-gold mr-3"></i>Torneos Anteriores
      </h1>
      <p class="text-slate-400">Selecciona un torneo anterior para ver detalles, calendario, bracket, equipos y ranking MVP</p>
    </div>

    <!-- Torneos Grid -->
    <% if (torneos && torneos.length > 0) { %>
      <div>
        <% torneos.forEach(torneo => { %>
          <div class="torneo-card">
            <div class="torneo-title">
              <i class="fas fa-trophy text-gold mr-2"></i><%= torneo.nombre %>
            </div>
            
            <div class="torneo-dates">
              <i class="fas fa-calendar mr-2"></i>
              <% 
                const fechaInicio = new Date(torneo.fecha_inicio).toLocaleDateString('es-ES', { 
                  year: 'numeric', 
                  month: 'long', 
                  day: 'numeric' 
                });
                const fechaFin = new Date(torneo.fecha_fin).toLocaleDateString('es-ES', { 
                  year: 'numeric', 
                  month: 'long', 
                  day: 'numeric' 
                });
              %>
              <%= fechaInicio %> - <%= fechaFin %>
              <span class="ml-3 px-2 py-1 rounded text-xs font-semibold" 
                    style="background-color: <%= torneo.estado === 'Completado' ? '#10b981' : torneo.estado === 'En Curso' ? '#f59e0b' : '#6b7280' %>">
                <%= torneo.estado %>
              </span>
            </div>

            <% if (torneo.descripcion) { %>
              <div class="torneo-description">
                <%= torneo.descripcion %>
              </div>
            <% } %>

            <div class="torneo-buttons">
              <a href="/torneo/<%= torneo.id %>/calendario" class="torneo-btn btn-calendario">
                <i class="fas fa-calendar"></i> Calendario
              </a>
              <a href="/torneo/<%= torneo.id %>/bracket" class="torneo-btn btn-bracket">
                <i class="fas fa-sitemap"></i> Bracket
              </a>
              <a href="/torneo/<%= torneo.id %>/equipos" class="torneo-btn btn-equipos">
                <i class="fas fa-users"></i> Equipos
              </a>
              <a href="/torneo/<%= torneo.id %>/mvp" class="torneo-btn btn-mvp">
                <i class="fas fa-star"></i> Ranking MVP
              </a>
            </div>
          </div>
        <% }); %>
      </div>
    <% } else { %>
      <div class="torneo-card text-center py-12">
        <div class="empty-state">
          <div class="empty-state-icon">
            <i class="fas fa-inbox"></i>
          </div>
          <h2 class="text-xl font-semibold mb-2">No hay torneos anteriores</h2>
          <p class="text-slate-400 mb-6">Todos los torneos disponibles están siendo mostrados en el menú de Torneo Actual.</p>
          <a href="/" class="inline-block px-6 py-2 bg-gold text-slate-900 font-semibold rounded hover:bg-yellow-400 transition">
            Volver al Inicio
          </a>
        </div>
      </div>
    <% } %>
  </div>

  <%- include('partials/footer') %>
</body>
</html>
